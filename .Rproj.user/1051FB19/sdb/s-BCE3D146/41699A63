{
    "collab_server" : "",
    "contents" : "# missing data example\n# since bank does not include missing data, lets\n# synthetically create such data:\nset.seed(12345) # set for replicability\nbank3=bank\nN=500 # randomly assign N missing values (NA) to 1st and 2nd attributes\nsrow1=sample(1:nrow(bank),N) # N rows\nsrow2=sample(1:nrow(bank),N) # N rows\nbank3[srow1,1]=NA # age\nbank3[srow2,2]=NA # job\nprint(\"Show summary of bank3 1st and 2nd attributes (with NA values):\")\nprint(summary(bank3[,1:2]))\ncat(\"bank3:\",nelems(bank3),\"\\n\")\ncat(\"NA values:\",sum(is.na(bank3)),\"\\n\")\n\n# 1st method: case deletion\nprint(\"-- 1st method: case deletion --\")\nbank4=na.omit(bank3)\ncat(\"bank4:\",nelems(bank4),\"\\n\")\ncat(\"NA values:\",sum(is.na(bank4)),\"\\n\")\n\n# 2nd method: average imputation for age, mode imputation for job:\n# substitute NA values by the mean:\nprint(\"-- 2nd method: value imputation --\")\nprint(\"original age summary:\")\nprint(summary(bank3$age))\nmeanage=mean(bank3$age,na.rm=TRUE)\nbank5=imputation(\"value\",bank3,\"age\",Value=meanage)\nprint(\"mean imputation age summary:\")\nprint(summary(bank5$age))\n# substitute NA values by the mode (most common value of bank$job):\nprint(\"original job summary:\")\nprint(summary(bank3$job))\nbank5=imputation(\"value\",bank5,\"job\",Value=names(which.max(table(bank$job))))\nprint(\"mode imputation job summary:\")\nprint(summary(bank5$job))\n\n# 3rd method: hot deck\n# substitute NA values by the values found in most similar case (1-nearest neighbor):\nprint(\"-- 3rd method: hotdeck imputation --\")\nprint(\"original age summary:\")\nprint(summary(bank3$age))\nbank6=imputation(\"hotdeck\",bank3,\"age\")\nprint(\"hot deck imputation age summary:\")\nprint(summary(bank6$age))\n# substitute NA values by the values found in most similar case:\nprint(\"original job summary:\")\nprint(summary(bank3$job))\nbank6=imputation(\"hotdeck\",bank6,\"job\")\nprint(\"hot deck imputation job summary:\")\nprint(summary(bank6$job))\ncat(\"bank6:\",nelems(bank6),\"\\n\")\ncat(\"NA values:\",sum(is.na(bank6)),\"\\n\")\n\n# comparison of age densities (mean vs hotdeck):\nlibrary(ggplot2)\nmeth1=data.frame(length=bank4$age)\nmeth2=data.frame(length=bank5$age)\nmeth3=data.frame(length=bank6$age)\nmeth1$method=\"original\"\nmeth2$method=\"average\"\nmeth3$method=\"hotdeck\"\nall=rbind(meth1,meth2,meth3)\nggplot(all,aes(length,fill=method))+geom_density(alpha = 0.2)\nggsave(file=\"prep3-1.pdf\")\n",
    "created" : 1525420612722.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3332189655",
    "id" : "41699A63",
    "lastKnownWriteTime" : 1433864810,
    "last_content_update" : 1433864810,
    "path" : "C:/Users/TOP/Downloads/rminer/tutorial/prep-3.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}
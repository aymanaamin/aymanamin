{
    "collab_server" : "",
    "contents" : "library(rminer)\n# read previously saved file\nmath=read.table(file=\"math2.csv\",header=TRUE) \n\n# select inputs:\ninputs=2:29 # select from 2 (\"sex\") to 29 (\"health\")\n# select outputs: binary task \"pass\"\nbout=which(names(math)==\"pass\")\ncat(\"output class:\",class(math[,bout]),\"\\n\")\nbmath=math[,c(inputs,bout)] # for easy use\ny=bmath$pass # target\n\n# fit rpart to all data, pure class modeling (no probabilities)\nB1=fit(pass~.,bmath,model=\"rpart\",task=\"class\") # fit a decision tree\nP1=predict(B1,bmath) # class predictions\nprint(P1[1]) # show 1st prediction\nm=mmetric(y,P1,metric=c(\"ACC\",\"ACCLASS\"))\nprint(m) # accuracy, accuracy per class\nm=mmetric(y,P1,metric=c(\"CONF\")) # a)\nprint(m$conf) # confusion matrix\nm=mmetric(y,P1,metric=c(\"ALL\"))\nprint(round(m,1)) # all pure class metrics\n\n# fit rpart to all data, default probabilistic modeling \nB2=fit(pass~.,bmath,model=\"rpart\",task=\"prob\") # fit a decision tree\nP2=predict(B2,bmath) # predicted probabilities\nprint(P2[1,]) # show 1st prediction\nm=mmetric(y,P2,metric=c(\"ACC\"),TC=2,D=0.5)\nprint(m) # accuracy, accuracy per class\nm=mmetric(y,P2,metric=c(\"CONF\"),TC=2,D=0.1) # equal to a)\nprint(m$conf) # confusion matrix\nm=mmetric(y,P2,metric=c(\"AUC\",\"AUCCLASS\"))\nprint(m) # AUC, AUC per class\nm=mmetric(y,P2,metric=c(\"ALL\"))\nprint(round(m,1)) # all prob metrics\n\n# ROC and LIFT curve:\ntxt=paste(levels(y)[2],\"AUC:\",round(mmetric(y,P2,metric=\"AUC\",TC=2),2))\nmgraph(y,P2,graph=\"ROC\",baseline=TRUE,Grid=10,main=txt,TC=2,PDF=\"roc-1\")\ntxt=paste(levels(y)[2],\"ALIFT:\",round(mmetric(y,P2,metric=\"ALIFT\",TC=2),2))\nmgraph(y,P2,graph=\"LIFT\",baseline=TRUE,Grid=10,main=txt,TC=2,PDF=\"lift-1\")\n",
    "created" : 1525420386546.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2868328915",
    "id" : "CF722BBA",
    "lastKnownWriteTime" : 1436456750,
    "last_content_update" : 1436456750,
    "path" : "C:/Users/TOP/Downloads/rminer/tutorial/eval-1.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}